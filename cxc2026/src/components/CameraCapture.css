/* src/components/CameraCapture.css */

/* --- 1. THE MAIN WINDOW (Nuclear Option) --- */
.camera-container {
  position: fixed; /* ⚠️ Force full screen, ignoring parent layout */
  top: 0;
  left: 0;
  width: 100vw;
  height: 100dvh; /* Mobile-friendly height */
  background-color: #000;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  overflow: hidden; /* No scrolling on the container itself */
  z-index: 10; /* Sit on top of everything */
}

/* --- 2. THE SLIDING FILM STRIP --- */
.sliding-wrapper {
  display: flex; 
  width: 200%; /* Double width for 2 screens */
  height: 100%;
  transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); /* Smooth Slide */
}

/* Slide States */
.sliding-wrapper.show-camera { transform: translateX(0); }
.sliding-wrapper.show-results { transform: translateX(-50%); }

/* --- 3. THE TWO SCREENS --- */
.image-area, .results-list {
  width: 50%; /* Each screen is half of the 200% wrapper */
  height: 100%;
  flex-shrink: 0; /* ⚠️ CRITICAL: Prevents them from squishing! */
  position: relative;
}

/* --- SCREEN A: CAMERA --- */
.image-area {
  background: #000;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.photo-preview {
  width: 100%;
  height: 100%;
  object-fit: contain; /* Keep the whole photo visible */
}

.placeholder {
  color: white;
  text-align: center;
}

/* --- SCREEN B: RESULTS --- */
.results-list {
  background: #f4f6f8;
  padding: 20px;
  padding-bottom: 120px; /* Space for button */
  overflow-y: auto;
}

/* --- 4. THE BUTTON (Fixed wrapping issue) --- */
.controls-area {
  position: absolute;
  bottom: 40px;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  pointer-events: none; /* Click-through */
  z-index: 100;
}

.camera-button {
  pointer-events: auto; /* Re-enable clicks */
  background: #007bff;
  color: white;
  padding: 16px 32px;
  border-radius: 50px;
  border: none;
  font-size: 1.1rem;
  font-weight: 700;
  box-shadow: 0 4px 15px rgba(0, 123, 255, 0.4);
  
  /* ⚠️ FIX FOR SQUISHED BUTTON ⚠️ */
  white-space: nowrap; /* Never wrap text to next line */
  min-width: 200px; /* Minimum width to look good */
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.camera-button:active { transform: scale(0.96); }

/* --- 5. CARD STYLES --- */
.ingredient-card { background: white; border-radius: 12px; margin-bottom: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); overflow: hidden; }
.ingredient-header { padding: 15px; display: flex; justify-content: space-between; align-items: center; list-style: none; }
.ingredient-header::-webkit-details-marker { display: none; }
.ingredient-name { font-weight: 600; color: #333; }
.score-badge { padding: 4px 10px; border-radius: 12px; font-weight: 800; font-size: 0.85rem; }
.ingredient-body { padding: 15px; background: #fafafa; border-top: 1px solid #eee; color: #555; line-height: 1.5; }

/* Colors */
.safe .ingredient-header { border-left: 5px solid #2ecc71; } .safe .score-badge { background: #e8f8f5; color: #27ae60; }
.caution .ingredient-header { border-left: 5px solid #f1c40f; } .caution .score-badge { background: #fef9e7; color: #b7791f; }
.danger .ingredient-header { border-left: 5px solid #e74c3c; } .danger .score-badge { background: #fadbd8; color: #c0392b; }

.loading-text, .error-text { text-align: center; margin-top: 40px; color: #666; }
.error-text { color: #d32f2f; }